<section class="background-radial-gradient overflow-hidden">
  <div class="row" style="height: 100vh;overflow-x: auto;">
    <div class="row" style="height: 100vh; padding: 30px 10px 10px 50px">

      <div class="container-fluid">
        <div class="row">

          <div class="col-md-12" style="text-align: center;margin-top: 50px">
            <div class="col-md-3" style="margin: 0 auto;">
              <%= select_tag 'opcoes_select',
                             options_for_select(@cidade.collect { |opcao| [opcao, opcao] }, ['GOIANIA']),
                             { include_blank: 'Selecione uma opção',
                               class: 'select2 form-control' } %>
            </div>
          </div>

          <%= render 'data_menu' %>

        </div>
      </div>

    </div>
  </div>

</section>



<script>
    window.addEventListener('DOMContentLoaded', () => {
        $('.select2').select2();
    })

    document.addEventListener('DOMContentLoaded', () => {
        const dataInicioField = document.getElementById('data_inicio_field');

        dataInicioField.addEventListener('change', () => {
            const form = dataInicioField.closest('form');
            form.requestSubmit();
        });

        const rangeDataInicioField = document.getElementById('range_data_inicio_field');
        const rangeDataFimField = document.getElementById('range_data_fim_field');

        rangeDataInicioField.addEventListener('change', () => {
            if (rangeDataFimField.value) {
                const form = rangeDataInicioField.closest('form');
                form.requestSubmit();
            }
        });

        rangeDataFimField.addEventListener('change', () => {
            if (rangeDataInicioField.value) {
                const form = rangeDataFimField.closest('form');
                form.requestSubmit();
            }
        });
    });

</script>


